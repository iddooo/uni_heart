{"version":3,"sources":["webpack:///C:/Users/dell/Desktop/uni_heart/main.js","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue?7007","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue?e7d3","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue?f14a","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue?aa78","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue?71cc","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue?8ff4"],"names":["createPage","Page","components","SearchBox","data","keyword","undefined","step","isFadeback","openVoice","recorderManager","onLoad","initRecorderManager","auth","validVersion","methods","that","uni","getSetting","success","res","console","log","authSetting","authorize","scope","fail","showToast","title","icon","duration","authModel","canUseVoice","showModal","content","tip","confirm","openSetting","getSystemInfo","complete","version","compareVersion","v1","v2","split","len","Math","max","length","push","i","num1","parseInt","num2","getRecorderManager","onStart","onInterruptionBegin","onStop","recognition","onError","err","stop","handleTouchStart","options","sampleRate","format","start","handleTouchEnd","tempFilePath","then","result","code","JSON","parse","resultArr","text","replace","indexOf","fuzzySearch","reject","keywordsList","linkTo","navigateTo","url","chooseItem","item","fadeback","userInfo","getStorageSync","name","nickname","phone"],"mappings":"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","file":"pages/Tabbar/voiceRecognition/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/Tabbar/voiceRecognition/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=d4434894&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&scoped=true&lang=js&\"\nexport * from \"./index.vue?vue&type=script&scoped=true&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d4434894&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4434894\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('d4434894')) {\n      api.createRecord('d4434894', component.options)\n    } else {\n      api.reload('d4434894', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=d4434894&scoped=true&\", function () {\n      api.rerender('d4434894', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/dell/Desktop/uni_heart/pages/Tabbar/voiceRecognition/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=d4434894&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&scoped=true&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&scoped=true&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { searchKeywords, garbageFeedback } from '../../../api/index.js'\nimport { uploadVoice } from '../../../api/config.js'\nimport SearchBox from '../../../components/SearchBox.vue'\n\nexport default{\n\tcomponents: {\n\t\tSearchBox,\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tkeyword:undefined,\n\t\t\tstep:1,\n\t\t\tisFadeback:false,\n\t\t\topenVoice:false,\n\t\t\trecorderManager:undefined\n\t\t\t\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.initRecorderManager()\n\t\t// 询问授权\n\t\tthis.auth()\n\t\t//验证版本\n\t\tthis.validVersion()\n\t},\n\tmethods:{\n\t\tauth(){\n\t\t\tlet that = this\n\t\t\tuni.getSetting({\n\t\t\t  success: function (res) {\n\t\t\t    console.log('获取授权信息',res)\n\t\t\t      if (!res.authSetting['scope.record']) {\n\t\t\t          uni.authorize({\n\t\t\t            scope: 'scope.record',\n\t\t\t            fail:()=>{\n\t\t\t\t\t\t\tthat.openVoice = false\n\t\t\t            },\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tthat.openVoice = true\n\t\t\t\t\t\t}\n\t\t\t          })\n\t\t\t      }else{\n\t\t\t        that.openVoice = true\n\t\t\t      }\n\t\t\t  },\n\t\t\t  fail: function (res) {\n\t\t\t      uni.showToast({\n\t\t\t          title: '调用授权窗口失败',\n\t\t\t          icon: 'none',\n\t\t\t          duration: 1000\n\t\t\t      })\n\t\t\t  }\n\t\t\t})\n\t\t},\n\t\tauthModel(){\n\n\n\n\n\n\n\n\t\t\t\n\n\t\t\tif(!this.canUseVoice){\n\t\t\t\tuni.showToast({\n\t\t\t\t    title: '您的微信版本较低，暂时无法使用该功能',\n\t\t\t\t    icon:\"none\"\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t\n\t\t\tlet that = this\n\t\t\tuni.showModal({\n\t\t\t  title: '提示',\n\t\t\t  content: '是否开启录音授权',\n\t\t\t  success: function (tip) {\n\t\t\t    if (tip.confirm) {\n\t\t\t      uni.openSetting({\n\t\t\t        success: function (data) {\n\t\t\t            if (data.authSetting[\"scope.record\"] === true) {\n\t\t\t                uni.showToast({\n\t\t\t                    title: '授权成功',\n\t\t\t                    icon: 'success',\n\t\t\t                    duration: 1000\n\t\t\t                })\n\t\t\t                //授权成功之后，\n\t\t\t                that.openVoice = true\n\t\t\t            } else {\n\t\t\t                uni.showToast({\n\t\t\t                    title: '授权失败',\n\t\t\t                    icon: 'success',\n\t\t\t                    duration: 1000\n\t\t\t                })\n\t\t\t                that.openVoice = false\n\t\t\t            }\n\t\t\t        }\n\t\t\t      })\n\t\t\t    }\n\t\t\t  }\n\t\t\t})\n\t\t},\n\t\tvalidVersion(){\n\t\t    uni.getSystemInfo({\n\t\t      complete: (res) => {\n\t\t        // console.log(res)\n\t\t        let version = res.version\n\t\t        // 1 a > b \n\t\t        // 0 a = b\n\t\t        //-1 a < b\n\t\t        if(this.compareVersion(version, '7.0.8')==1){\n\t\t          this.canUseVoice = true\n\t\t        }else{\n\t\t          this.canUseVoice = false\n\t\t        }\n\t\t      },\n\t\t    })\n\t\t},\n\t\tcompareVersion(v1, v2) {\n\t\t    v1 = v1.split('.')\n\t\t    v2 = v2.split('.')\n\t\t    var len = Math.max(v1.length, v2.length)\n\t\t  \n\t\t    while (v1.length < len) {\n\t\t      v1.push('0')\n\t\t    }\n\t\t    while (v2.length < len) {\n\t\t      v2.push('0')\n\t\t    }\n\t\t  \n\t\t    for (var i = 0; i < len; i++) {\n\t\t      var num1 = parseInt(v1[i])\n\t\t      var num2 = parseInt(v2[i])\n\t\t  \n\t\t      if (num1 > num2) {\n\t\t        return 1\n\t\t      } else if (num1 < num2) {\n\t\t        return -1\n\t\t      }\n\t\t    }\n\t\t    return 0\n\t\t},\n\t\tinitRecorderManager() {\n\t\t    const recorderManager = uni.getRecorderManager()\n\t\t    this.recorderManager = recorderManager\n\t\t\t\n\t\t    recorderManager.onStart(() => {\n\t\t      console.log('录音开始了')\n\t\t      this.step = 2\n\t\t    })\n\t\t\n\t\t    recorderManager.onInterruptionBegin(() => {\n\t\t      this.step = 4\n\t\t    })\n\t\t\n\t\t    recorderManager.onStop((res) => {\n\t\t      this.step = 3\n\t\t      // 识别录音\n\t\t      this.recognition(res) \n\t\t    })\n\t\t\n\t\t    recorderManager.onError((err) => {\n\t\t      recorderManager.stop()\n\t\t    })\n\t\t},\n\t\thandleTouchStart(){\n\t\t\t//录音参数\n\t\t\tconst options = {\n\t\t\t  duration: \"60000\",\n\t\t\t  sampleRate: 8000, //采样率\n\t\t\t  format: 'PCM' //音频格式\n\t\t\t  // format:\"mp3\"\n\t\t\t}\n\t\t\t//开启录音\n\t\t\tthis.recorderManager.start(options);\n\t\t},\n\t\thandleTouchEnd(){\n\t\t    this.recorderManager.stop()\n\t\t},\n\t\trecognition(res) {\n\t\t    console.log('录音文件', res.tempFilePath)\n\t\t    const tempFilePath = res.tempFilePath\n\t\t\tuploadVoice(tempFilePath).then(result=>{\n\t\t\t\t\n\t\t\t\tif(res.code===0){\n\t\t\t\t\tconsole.log('uploadVoice 接口连接失败');\n\t\t\t\t\tthis.step = 4\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet data = JSON.parse(result.data)\n\t\t\t\tlet resultArr = data.result //识别结果\n\t\t\t\tconsole.log('识别完成:',data);\n\t\t\t\t\n\t\t\t\tif(resultArr){\n\t\t\t\t\tlet text = resultArr[0].replace(/。/g,'')\n\t\t\t\t\tif(text.indexOf('我不知道')!=-1){\n\t\t\t\t\t\tconsole.log('结果不明白');\n\t\t\t\t\t\ttext = ''\n\t\t\t\t\t\tthis.step = 4\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 识别出来 模糊搜素关键字\n\t\t\t\t\tthis.keyword = text\n\t\t\t\t\tthis.fuzzySearch()\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t  //没有结果 未识别出来\n\t\t\t\t  console.log('没有结果');\n\t\t\t\t  this.step = 4\n\t\t\t\t}\n\t\t\t},reject=>{\n\t\t\t\t// 接口连接失败\n\t\t\t\tconsole.log('uploadVoice 接口连接失败');\n\t\t\t\tthis.step = 4\n\t\t\t})\n\t\t},\n\t\tfuzzySearch(){\n\t\t\tconsole.log('搜索关键字',this.keyword);\n\t\t\tsearchKeywords(this.keyword).then(res=>{\n\t\t\t\tif(res.code==1){\n\t\t\t\t\tthis.keywordsList = res.data\n\t\t\t\t\tthis.step = 6\n\t\t\t\t}else{\n\t\t\t\t\tthis.step = 5\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tlinkTo(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"/pages/Classification/search/index\"\n\t\t\t})\n\t\t},\n\t\tchooseItem(item){\n\t\t\t// 弹出当前关联项\n\t\t\tconsole.log(item);\n\t\t},\n\t\tfadeback(){\n\t\t\tlet userInfo = uni.getStorageSync('userInfo')\n\t\t\tlet data = {\n\t\t\t\tcontent:this.keyword,\n\t\t\t\tname:userInfo.nickname,\n\t\t\t\tphone:userInfo.phone\n\t\t\t}\n\t\t\tgarbageFeedback(data).then(res=>{\n\t\t\t\tif(res.code==1){\n\t\t\t\t\tthis.isFadeback = true\n\t\t\t\t}else{\n\t\t\t\t\tthis.step = 4\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=d4434894&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=d4434894&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}