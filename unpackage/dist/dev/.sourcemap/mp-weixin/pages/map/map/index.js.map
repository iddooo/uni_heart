{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Map/map/index.vue?b959","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Map/map/index.vue?b4b6","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Map/map/index.vue?d09e","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Map/map/index.vue?a684","uni-app:///pages/Map/map/index.vue","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Map/map/index.vue?2fb8","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Map/map/index.vue?8591"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwDnnB;AACA;AACA,sE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;64BAKA,EACA,cACA,cADA,EAEA,oBAFA,EAGA,0BAHA,EADA,EAMA,IANA,kBAMA,CACA,SACA,wBADA,EAEA,YACA;AACA;AACA;AACA;AACA;AACA;AANA,OAFA,EAWA,6BAXA,EAYA,+BAZA,EAaA,iCACA,oBADA,GAbA,EAeA,WAfA,EAgBA,aAhBA,EAiBA,WAjBA,EAkBA,cAlBA,EAmBA,UAnBA,EAoBA,QApBA,EAqBA,UArBA,EAsBA,oBAtBA,EAuBA,cAvBA,EAwBA,QAxBA,EAyBA,eAzBA,EA0BA,cA1BA,EA2BA,OA3BA,EA4BA,YA5BA,GA8BA,CArCA,EAsCA,MAtCA,kBAsCA,MAtCA,EAsCA,CACA,0CACA,uBACA,CAzCA,EA0CA,MA1CA,oBA0CA,kBACA,8CACA,4CACA,kDAHA,CAIA;AACA,sCACA,oCANA,CAOA;AACA,wBACA,0BAEA,qBACA,0BACA,gDACA,mCACA,mCACA;AACA,OAHA;;AAKA,KARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,GA1EA;AA2EA;AACA;AACA,sBAFA,gCAEA;AACA;AACA;AACA,mEADA,CACA,SADA,yBACA,SADA,CACA,QADA,yBACA,QADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAfA,EAeA,EAfA;AAgBA;AACA;AACA;AACA;AACA,OArBA;AAsBA,KAzBA;AA0BA;AACA,gBA3BA,0BA2BA;AACA;AACA;AACA,mEADA,CACA,SADA,0BACA,SADA,CACA,QADA,0BACA,QADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAfA,EAeA,EAfA;AAgBA;AACA;AACA;AACA,OApBA;AAqBA,KAjDA;AAkDA,gBAlDA,wBAkDA,CAlDA,EAkDA;AACA;AACA,KApDA;AAqDA,WArDA,qBAqDA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,KA9DA;AA+DA,gBA/DA,0BA+DA;AACA;AACA,KAjEA;AAkEA;AACA,oBAnEA,4BAmEA,CAnEA,EAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,KAlGA;AAmGA;AACA,iBApGA,yBAoGA,IApGA,EAoGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA,SAFA;AAGA,OAZA;AAaA,KAnHA;AAoHA;AACA,mBArHA,2BAqHA,IArHA,EAqHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAHA;AAIA,OATA;AAUA,KAjIA;AAkIA,QAlIA,kBAkIA;AACA,kBADA,CACA,GADA,iBACA,GADA,CACA,GADA,iBACA,GADA;AAEA,2DAFA,CAEA,SAFA,0BAEA,SAFA,CAEA,QAFA,0BAEA,QAFA;AAGA;AACA,0BADA;AAEA,4BAFA;AAGA,kCAHA;AAIA,kCAJA;AAKA;AACA;AACA,SAPA;;AASA,KA9IA,EA3EA,E;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAi3B,CAAgB,k3BAAG,EAAC,C;;;;;;;;;;;ACAr4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/Map/map/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/Map/map/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=9d7468ba&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Map/map/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=9d7468ba&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<!-- 地图 -->\r\n\t\t<view class=\"map-container\">\r\n\t\t\t<map style=\"width: 100%; height: 60vh;\" \r\n\t\t\t:scale=\"10\"\r\n\t\t\t:latitude=\"latitude\" \r\n\t\t\t:longitude=\"longitude\" \r\n\t\t\t:markers=\"allMarkers\"\r\n\t\t\t@markertap=\"checkStationInfo\"></map>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"resources-container\">\r\n\t\t\t<!-- 设备信息 -->\r\n\t\t\t<view class=\"staion-info flex-ct\">\r\n\t\t\t\t<view class=\"complex\">\r\n\t\t\t\t\t{{station.complex}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"preview\" @click=\"preview\">\r\n\t\t\t\t\t查看街景图片\r\n\t\t\t\t</view>\r\n\t\t\t\t<image @click=\"lead\" class=\"lead\" src=\"/pages/Map/images/lead.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"describle flex-ct\">\r\n\t\t\t\t<image src=\"/pages/Map/images/site-d.png\" mode=\"\"></image>\r\n\t\t\t\t<view class=\"elips\">距您{{station.min_dis}} | {{station.address}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"describle flex-ct\">\r\n\t\t\t\t<image src=\"/pages/Map/images/time.png\" mode=\"\"></image>\r\n\t\t\t\t<view>{{station.startDate}}至{{station.endDate}}  {{station.startTime}}-{{station.endTime}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"describle flex-ct\">\r\n\t\t\t\t<image src=\"/pages/Map/images/sno-img.png\" mode=\"\"></image>\r\n\t\t\t\t<view>编号：{{station.sno}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"dashed\"></view>\r\n\t\t\t<!-- 设备资源信息 -->\r\n\t\t\t<view v-show=\"type==1\">\r\n\t\t\t\t<Resources :data=\"resources\"></Resources>\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"type==2\">\r\n\t\t\t\t<KitchenWaste :data=\"station\"></KitchenWaste>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 查看 -->\r\n\t\t<view class=\"preview-pop\" v-if=\"visible\">\r\n\t\t\t<Banner className=\"preview-banner\" :banners=\"pics\"></Banner>\r\n\t\t\t<view class=\"touch-close\" @click=\"closePreview\">\r\n\t\t\t  <image src=\"/pages/Map/images/closepreview.png\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {getKwStationList,getAllStations,getKwStaion, getSingleStation,getClassify} from '../../../api/index.js'\r\n\timport coordinate from '../../../utils/coordinate.js'\r\n\timport { IMG_URL } from '../../../common/index.js'\r\n\timport Banner from '../../../components/Banner.vue'\r\n\timport Resources from '../../../components/Resources.vue'\r\n\timport KitchenWaste from '../../../components/KitchenWaste.vue'\r\n\t\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tBanner,\r\n\t\t\tResources,\r\n\t\t\tKitchenWaste\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tIMG_URL:IMG_URL,\r\n\t\t\t\tresources:[\r\n\t\t\t\t\t// {\"id\":\"411560080522219520\",\"name\":\"饮料瓶\",\"price\":0.04,\"imgUrl\":\"http://47.103.51.182:8000/icon/bottles-s.png\",\"contry\":null,\"unit\":\"个\",\"state\":0,\"sno\":null},\r\n\t\t\t\t\t// {\"id\":\"411560080522219521\",\"name\":\"纸类\",\"price\":0.50,\"imgUrl\":\"http://47.103.51.182:8000/icon/page-s.png\",\"contry\":null,\"unit\":\"kg\",\"state\":0,\"sno\":null},\r\n\t\t\t\t\t// {\"id\":\"411560080522219522\",\"name\":\"纺织物\",\"price\":0.30,\"imgUrl\":\"http://47.103.51.182:8000/icon/clothes-s.png\",\"contry\":null,\"unit\":\"kg\",\"state\":0,\"sno\":null},\r\n\t\t\t\t\t// {\"id\":\"411560080522219523\",\"name\":\"有害\",\"price\":0.00,\"imgUrl\":\"http://47.103.51.182:8000/icon/harmful-s.png\",\"contry\":null,\"unit\":\"kg\",\"state\":0,\"sno\":null},\r\n\t\t\t\t\t// {\"id\":\"411560080522219524\",\"name\":\"塑料/金属\",\"price\":0.40,\"imgUrl\":\"http://47.103.51.182:8000/icon/suliao-red.png\",\"contry\":null,\"unit\":\"kg\",\"state\":2,\"sno\":null},\r\n\t\t\t\t\t// {\"id\":\"411560080522219525\",\"name\":\"玻璃\",\"price\":0.00,\"imgUrl\":\"http://47.103.51.182:8000/icon/boli-red.png\",\"contry\":null,\"unit\":\"kg\",\"state\":2,\"sno\":null}\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\tlatitude:'30.53811264038086',\r\n\t\t\t\tlongitude:'104.06261444091797',\r\n\t\t\t\tallMarkers:[{latitude: 39.909,\r\n                longitude: 116.39742,}],\r\n\t\t\t\tstaions:[],\r\n\t\t\t\tkwStaions:[],\r\n\t\t\t\tstation:{},\r\n\t\t\t\tkw_station:{},\r\n\t\t\t\tkitchen:0,\r\n\t\t\t\tother:0,\r\n\t\t\t\tmin_dis:0,\r\n\t\t\t\tindicatorDots:false,\r\n\t\t\t\tautoplay:true,\r\n\t\t\t\tpics:[],\r\n\t\t\t\tcurrentIndex:0,\r\n\t\t\t\tvisible:false,\r\n\t\t\t\ttype:1,\r\n\t\t\t\titem6:false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.type = option.type ? option.type : 1\r\n\t\t\tconsole.log(this.type)\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet location = uni.getStorageSync('location')\r\n\t\t\tlet station = uni.getStorageSync('station')\r\n\t\t\tlet kw_station = uni.getStorageSync('kw_station')\r\n\t\t\t// 当前经纬度\r\n\t\t\tthis.latitude = location.latitude\r\n\t\t\tthis.longitude = location.longitude\r\n\t\t\t// 获取地图上所有设备点\r\n\t\t\tthis.getKwStaions()\r\n\t\t\tthis.getRecoveryStaions()\r\n\t\t\t\r\n\t\t\tif(this.type==2){\r\n\t\t\t\tthis.station = kw_station\r\n\t\t\t\tlet pics = JSON.parse(this.station.pic || '[]')\r\n\t\t\t\tthis.pics = pics.map(v=>{\r\n\t\t\t\t\tv.imgUrl = this.IMG_URL + v.value\r\n\t\t\t\t\treturn v\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tthis.station = station\r\n\t\t\t\tlet pics = JSON.parse(this.station.pic || '[]')\r\n\t\t\t\tthis.pics = pics.map(v=>{\r\n\t\t\t\t\tv.imgUrl = this.IMG_URL + v.value\r\n\t\t\t\t\treturn v\r\n\t\t\t\t})\r\n\t\t\t\t// 获取当前设备的分类信息\r\n\t\t\t\tgetClassify(this.station.id).then(res=>{\r\n\t\t\t\t\tthis.resources = res.data\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconsole.log(this.type);\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 获取所有的回收设备\r\n\t\t\tgetRecoveryStaions(){\r\n\t\t\t\tgetAllStations().then(res=>{\r\n\t\t\t\t\tlet eqp = res.data.reduce((a,b)=>{\r\n\t\t\t\t\t\tlet {longitude,latitude} = coordinate.transformFromBaiduToGCJ(b.lat,b.lng)\r\n\t\t\t\t\t\tb.longitude = longitude\r\n\t\t\t\t\t\tb.latitude = latitude\r\n\t\t\t\t\t\t// b.longitude = Number(b.lng)\r\n\t\t\t\t\t\t// b.latitude = Number(b.lat)\r\n\t\t\t\t\t\tb.iconPath = '/pages/Map/images/marker.png'\r\n\t\t\t\t\t\tb.width = 37\r\n\t\t\t\t\t\tb.height = 41\r\n\t\t\t\t\t\tif(b.id == this.station.id){\r\n\t\t\t\t\t\t\tb.width = 48\r\n\t\t\t\t\t\t\tb.height = 53\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta.push(b)\r\n\t\t\t\t\t\treturn a\r\n\t\t\t\t\t},[])\r\n\t\t\t\t\t// console.log(eqp)\r\n\t\t\t\t\tthis.staions = eqp\r\n\t\t\t\t\t// this.allMarkers.push(...eqp)\r\n\t\t\t\t\tthis.allMarkers = this.allMarkers.concat(this.staions)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取所有的厨余设备\r\n\t\t\tgetKwStaions(){\r\n\t\t\t\tgetKwStationList().then(res=>{\r\n\t\t\t\t\tlet kw = res.data.reduce((a,b)=>{\r\n\t\t\t\t\t\tlet {longitude,latitude} = coordinate.transformFromBaiduToGCJ(b.lat,b.lng)\r\n\t\t\t\t\t\tb.longitude = longitude\r\n\t\t\t\t\t\tb.latitude = latitude\r\n\t\t\t\t\t\t// b.longitude = Number(b.lng)\r\n\t\t\t\t\t\t// b.latitude = Number(b.lat)\r\n\t\t\t\t\t\tb.iconPath = '/pages/Map/images/marker2.png'\r\n\t\t\t\t\t\tb.width = 37\r\n\t\t\t\t\t\tb.height = 41\r\n\t\t\t\t\t\tif(b.sno == this.station.sno){\r\n\t\t\t\t\t\t\tb.width = 48\r\n\t\t\t\t\t\t\tb.height = 53\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta.push(b)\r\n\t\t\t\t\t\treturn a\r\n\t\t\t\t\t},[])\r\n\t\t\t\t\t// console.log(kw)\r\n\t\t\t\t\tthis.kwStaions = kw\r\n\t\t\t\t\tthis.allMarkers = this.allMarkers.concat(this.kwStaions)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tswiperChange(e){\r\n\t\t\t\tthis.currentIndex = e.detail.current\r\n\t\t\t},\r\n\t\t\tpreview(){\r\n\t\t\t\tif(!this.pics || this.pics.length==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"该设备暂未提供图片\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.visible = true\r\n\t\t\t},\r\n\t\t\tclosePreview(){\r\n\t\t\t\tthis.visible = false\r\n\t\t\t},\r\n\t\t\t// 查看设备信息\r\n\t\t\tcheckStationInfo(e){\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tlet id = e.markerId || e.detail.markerId;\r\n\t\t\t\tthis.staions.forEach((b,i)=>{\r\n\t\t\t\t\tb.width = 37\r\n\t\t\t\t\tb.height = 41\r\n\t\t\t\t\tif(b.id==id){\r\n\t\t\t\t\t\tb.width = 48\r\n\t\t\t\t\t\tb.height = 53\r\n\t\t\t\t\t\t//优化\r\n\t\t\t\t\t\tthis.type = 1\r\n\t\t\t\t\t\tthis.getCurStation(b)\r\n\t\t\t\t\t\tconsole.log(b,i,b.id,this.allMarkers);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// this.allMarkers.forEach((b,i)=>{\r\n\t\t\t\t// \tif(b.id==id){\r\n\t\t\t\t// \t\tconsole.log(i);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\tthis.kwStaions.forEach(b=>{\r\n\t\t\t\t\tb.width = 37\r\n\t\t\t\t\tb.height = 41\r\n\t\t\t\t\tif(b.id==id){\r\n\t\t\t\t\t\tb.width = 48\r\n\t\t\t\t\t\tb.height = 53\r\n\t\t\t\t\t\t//优化\r\n\t\t\t\t\t\tthis.type = 2\r\n\t\t\t\t\t\tthis.getCurKwStation(b)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取当前可回收设备信息\r\n\t\t\tgetCurStation(data){\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tgetSingleStation(data).then(res=>{\r\n\t\t\t\t\tthis.station = res.data.min_station\r\n\t\t\t\t\tthis.station.min_dis = res.data.min_dis\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet pics = JSON.parse(this.station.pic)\r\n\t\t\t\t\tthis.pics = pics.map(v=>{\r\n\t\t\t\t\t\tv.imgUrl = this.IMG_URL + v.value\r\n\t\t\t\t\t\treturn v\r\n\t\t\t\t\t})\r\n\t\t\t\t\tgetClassify(this.station.id).then(res=>{\r\n\t\t\t\t\t\tthis.resources = res.data\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取当前厨余设备信息\r\n\t\t\tgetCurKwStation(data){\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tgetKwStaion(data).then(res=>{\r\n\t\t\t\t\tthis.station = res.data\r\n\t\t\t\t\tthis.station.min_dis = res.data.square\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet pics = JSON.parse(this.station.pic || '[]')\r\n\t\t\t\t\tthis.pics = pics.map(v=>{\r\n\t\t\t\t\t\tv.imgUrl = this.IMG_URL + v.value\r\n\t\t\t\t\t\treturn v\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlead(){\r\n\t\t\t\tlet {lat,lng} = this.station\r\n\t\t\t\tlet {longitude,latitude} = coordinate.transformFromBaiduToGCJ(lat,lng)\r\n\t\t\t\t\tuni.openLocation({\r\n\t\t\t\t\t\tlatitude: latitude,\r\n\t\t\t\t\t\tlongitude: longitude,\r\n\t\t\t\t\t\taddress:this.station.site,\r\n\t\t\t\t\t\tname:this.station.complex,\r\n\t\t\t\t\t\tsuccess: function () {\r\n\t\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.staion-info{\r\n\t\tpadding-top: 32rpx;\r\n\t\tpadding-left: 34rpx;\r\n\t\tpadding-bottom: 30rpx;\r\n\t}\r\n\t.complex{\r\n\t\tfont-size:34rpx;\r\n\t\tfont-weight:600;\r\n\t\tcolor:rgba(51,51,51,1);\r\n\t\tline-height:48rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t}\r\n\t.preview{\r\n\t\twidth:150rpx;\r\n\t\theight:36rpx;\r\n\t\tborder-radius:19rpx;\r\n\t\tborder:1rpx solid rgba(68,215,182,1);\r\n\t\tfont-size:20rpx;\r\n\t\tfont-weight:400;\r\n\t\tcolor:rgba(68,215,182,1);\r\n\t\tline-height:36rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.describle{\r\n\t\tfont-size:24rpx;\r\n\t\tfont-weight:400;\r\n\t\tcolor:rgba(144,144,144,1);\r\n\t\tline-height:34rpx;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tpadding-left: 38rpx;\r\n\t}\r\n\t.describle image{\r\n\t\twidth: 22rpx;\r\n\t\theight: 26rpx;\r\n\t\tmargin-right: 18rpx;\r\n\t}\r\n\t.dashed{\r\n\t\tmargin: 6rpx auto 22rpx;\r\n\t\twidth:652rpx;\r\n\t\theight:2rpx;\r\n\t\tborder-bottom:2rpx dashed rgba(239,239,239,1);\r\n\t}\r\n\t/* 预览图片 */\r\n\t.preview-pop{\r\n\t  position: fixed;\r\n\t  left: 0;\r\n\t  top: 0;\r\n\t  right: 0;\r\n\t  bottom: 0;\r\n\t  background-color: rgba(0, 0, 0, .7);\r\n\t  z-index: 999;\r\n\t}\r\n\t/* 预览图片 */\r\n\t.preview-banner{\r\n\t\twidth:656rpx;\r\n\t\theight:562rpx;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 266rpx;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n\t.preview-banner /deep/ .swiper-container{\r\n\t\theight:562rpx;\r\n\t\tborder-radius:22rpx;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.preview-banner /deep/ .dots{\r\n\t\tbottom: -8rpx;\r\n\t}\r\n\t.preview-banner /deep/ .dot.is-active{\r\n\t\twidth: 10rpx;\r\n\t}\r\n\t.touch-close{\r\n\t  position: absolute;\r\n\t  left: 668rpx;\r\n\t  top: 196rpx;\r\n\t  padding: 20rpx;\r\n\t}\r\n\t.touch-close image{\r\n\t  width: 40rpx;\r\n\t  height: 40rpx;\r\n\t}\r\n\t.resources-container{\r\n\t\tposition: relative;\r\n\t}\r\n\t.lead{\r\n\t\tposition: absolute;\r\n\t\tright: 10rpx;\r\n\t\ttop: -70rpx;\r\n\t\twidth:142rpx;\r\n\t\theight:142rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606720309876\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}