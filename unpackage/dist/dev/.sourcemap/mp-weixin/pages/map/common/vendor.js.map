{"version":3,"sources":["webpack:///C:/Users/dell/Desktop/uni_heart/utils/coordinate.js"],"names":["isLocationOutOfChina","latitude","longitude","transformFromWGSToGCJ","lat","lon","ee","a","pi","adjustLat","transformLatWithXY","adjustLon","transformLonWithXY","radLat","magic","Math","sin","sqrtMagic","sqrt","cos","transformFromGCJToBaidu","z","theta","atan2","a_latitude","a_longitude","transformFromBaiduToGCJ","xPi","x","y","transformFromGCJToWGS","threshold","minLat","maxLat","minLng","maxLng","delta","maxIteration","leftBottom","rightBottom","leftUp","midPoint","abs","isContains","point","p1","p2","min","max","module","exports"],"mappings":"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","file":"pages/Map/common/vendor.js","sourcesContent":["\r\n/**\r\n *  判断经纬度是否超出中国境内\r\n */\r\nfunction isLocationOutOfChina(latitude, longitude) {\r\n  if (longitude < 72.004 || longitude > 137.8347 || latitude < 0.8293 || latitude > 55.8271)\r\n    return true;\r\n  return false;\r\n}\r\n\r\n\r\n/**\r\n *  将WGS-84(国际标准)转为GCJ-02(火星坐标):\r\n */\r\nfunction transformFromWGSToGCJ(latitude, longitude) {\r\n  var lat = \"\";\r\n  var lon = \"\";\r\n  var ee = 0.00669342162296594323;\r\n  var a = 6378245.0;\r\n  var pi = 3.14159265358979324;\r\n\r\n  if (isLocationOutOfChina(latitude, longitude)) {\r\n    lat = latitude;\r\n    lon = longitude;\r\n  }\r\n  else {\r\n    var adjustLat = transformLatWithXY(longitude - 105.0, latitude - 35.0);\r\n    var adjustLon = transformLonWithXY(longitude - 105.0, latitude - 35.0);\r\n    var radLat = latitude / 180.0 * pi;\r\n    var magic = Math.sin(radLat);\r\n    magic = 1 - ee * magic * magic;\r\n    var sqrtMagic = Math.sqrt(magic);\r\n    adjustLat = (adjustLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);\r\n    adjustLon = (adjustLon * 180.0) / (a / sqrtMagic * Math.cos(radLat) * pi);\r\n    latitude = latitude + adjustLat;\r\n    longitude = longitude + adjustLon;\r\n  }\r\n  return { latitude: latitude, longitude: longitude };\r\n\r\n}\r\n\r\n/**\r\n *  将GCJ-02(火星坐标)转为百度坐标:\r\n */\r\nfunction transformFromGCJToBaidu(latitude, longitude) {  \r\n  var pi = 3.14159265358979324 * 3000.0 / 180.0;\r\n\r\n  var z = Math.sqrt(longitude * longitude + latitude * latitude) + 0.00002 * Math.sin(latitude * pi);\r\n  var theta = Math.atan2(latitude, longitude) + 0.000003 * Math.cos(longitude * pi);\r\n  var a_latitude = (z * Math.sin(theta) + 0.006);\r\n  var a_longitude = (z * Math.cos(theta) + 0.0065);\r\n\r\n  return { latitude: a_latitude, longitude: a_longitude };\r\n}\r\n\r\n/**\r\n *  将百度坐标转为GCJ-02(火星坐标):\r\n */\r\nfunction transformFromBaiduToGCJ(latitude, longitude) {\r\n  var xPi = 3.14159265358979323846264338327950288 * 3000.0 / 180.0;\r\n\r\n  var x = longitude - 0.0065;\r\n  var y = latitude - 0.006;\r\n  var z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * xPi);\r\n  var theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * xPi);\r\n  var a_latitude = z * Math.sin(theta);\r\n  var a_longitude = z * Math.cos(theta);\r\n\r\n  return { latitude: a_latitude, longitude: a_longitude };\r\n}\r\n\r\n/**\r\n *  将GCJ-02(火星坐标)转为WGS-84:\r\n */\r\nfunction transformFromGCJToWGS(latitude, longitude) {\r\n  var threshold = 0.00001;\r\n\r\n  // The boundary\r\n  var minLat = latitude - 0.5;\r\n  var maxLat = latitude + 0.5;\r\n  var minLng = longitude - 0.5;\r\n  var maxLng = longitude + 0.5;\r\n\r\n  var delta = 1;\r\n  var maxIteration = 30;\r\n\r\n  while (true) {\r\n    var leftBottom = transformFromWGSToGCJ(minLat, minLng);\r\n    var rightBottom = transformFromWGSToGCJ(minLat, maxLng);\r\n    var leftUp = transformFromWGSToGCJ(maxLat, minLng);\r\n    var midPoint = transformFromWGSToGCJ((minLat + maxLat) / 2, (minLng + maxLng) / 2);\r\n    delta = Math.abs(midPoint.latitude - latitude) + Math.abs(midPoint.longitude - longitude);\r\n\r\n    if (maxIteration-- <= 0 || delta <= threshold) {\r\n      return { latitude: (minLat + maxLat) / 2, longitude: (minLng + maxLng) / 2 };\r\n    }\r\n\r\n    if (isContains({ latitude: latitude, longitude: longitude }, leftBottom, midPoint)) {\r\n      maxLat = (minLat + maxLat) / 2;\r\n      maxLng = (minLng + maxLng) / 2;\r\n    }\r\n    else if (isContains({ latitude: latitude, longitude: longitude }, rightBottom, midPoint)) {\r\n      maxLat = (minLat + maxLat) / 2;\r\n      minLng = (minLng + maxLng) / 2;\r\n    }\r\n    else if (isContains({ latitude: latitude, longitude: longitude }, leftUp, midPoint)) {\r\n      minLat = (minLat + maxLat) / 2;\r\n      maxLng = (minLng + maxLng) / 2;\r\n    }\r\n    else {\r\n      minLat = (minLat + maxLat) / 2;\r\n      minLng = (minLng + maxLng) / 2;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nfunction isContains(point, p1, p2) {\r\n  return (point.latitude >= Math.min(p1.latitude, p2.latitude) && point.latitude <= Math.max(p1.latitude, p2.latitude)) && (point.longitude >= Math.min(p1.longitude, p2.longitude) && point.longitude <= Math.max(p1.longitude, p2.longitude));\r\n}\r\n\r\nfunction transformLatWithXY(x, y) {\r\n  var pi = 3.14159265358979324;\r\n  var lat = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));\r\n  lat += (20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0 / 3.0;\r\n  lat += (20.0 * Math.sin(y * pi) + 40.0 * Math.sin(y / 3.0 * pi)) * 2.0 / 3.0;\r\n  lat += (160.0 * Math.sin(y / 12.0 * pi) + 320 * Math.sin(y * pi / 30.0)) * 2.0 / 3.0;\r\n  return lat;\r\n}\r\n\r\nfunction transformLonWithXY(x, y) {\r\n  var pi = 3.14159265358979324;\r\n  var lon = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));\r\n  lon += (20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0 / 3.0;\r\n  lon += (20.0 * Math.sin(x * pi) + 40.0 * Math.sin(x / 3.0 * pi)) * 2.0 / 3.0;\r\n  lon += (150.0 * Math.sin(x / 12.0 * pi) + 300.0 * Math.sin(x / 30.0 * pi)) * 2.0 / 3.0;\r\n  return lon;\r\n}\r\n\r\nmodule.exports = {\r\n  isLocationOutOfChina: isLocationOutOfChina,\r\n  transformFromWGSToGCJ: transformFromWGSToGCJ,\r\n  transformFromGCJToBaidu: transformFromGCJToBaidu,\r\n  transformFromBaiduToGCJ: transformFromBaiduToGCJ,\r\n  transformFromGCJToWGS: transformFromGCJToWGS\r\n}\r\n"],"sourceRoot":""}