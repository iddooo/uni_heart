{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/dell/Desktop/uni_heart/pages/Authorize/login/index.vue?0b5d","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Authorize/login/index.vue?fff7","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Authorize/login/index.vue?3b56","uni-app:///pages/Authorize/login/index.vue","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Authorize/login/index.vue?aca5","webpack:///C:/Users/dell/Desktop/uni_heart/pages/Authorize/login/index.vue?363a"],"names":["createPage","Page"],"mappings":"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","file":"pages/Authorize/login/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/Authorize/login/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=05d75886&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Authorize/login/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=05d75886&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.step == 2 || _vm.step == 5 ? String(_vm.phone).substr(0, 3) : null\n  var g1 =\n    _vm.step == 2 || _vm.step == 5 ? String(_vm.phone).substr(3, 4) : null\n  var g2 =\n    _vm.step == 2 || _vm.step == 5 ? String(_vm.phone).substr(7, 4) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"hd\">\r\n\t\t\t<view class=\"welcome\">\r\n\t\t\t\t{{title}}</view>\r\n\t\t\t<!-- 登录框 -->\r\n\t\t\t<!-- 验证码登录 ： 1 -> 2 -->\r\n\t\t\t<!-- 设置密码 ：  4 -> 5 -> 6-->\r\n\t\t\t<!-- 账号密码登录 ： 3 -->\r\n\t\t\t<!-- 微信号码登录 -->\r\n\t\t\t<!-- 输入手机号码获取验证码登录 / 输入手机号码设置密码 -->\r\n\t\t\t<view v-show=\"step==1 || step==4\" class=\"phone-logins\">\r\n\t\t\t\t<view class=\"phone-input input-box flex-ct-bwt\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"/pages/Authorize/images/phone.png\" mode=\"\"></image>\r\n\t\t\t\t\t<input @input=\"regPhone\" v-model=\"phone\" placeholder-class=\"login-plc\" class=\"uni-input\" focus type=\"number\" placeholder=\"请输入手机号码 (新号码自动注册)\" />\r\n\t\t\t\t\t<image @click=\"clearPhone\" class=\"oprt\" src=\"/static/index/clear.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 获取验证码 -->\r\n\t\t\t\t<button @click=\"getCode\" :class=\"{'is-disable':!isPhoneValid}\">获取验证码</button>\r\n\t\t\t\t<!-- 使用账号密码 -->\r\n\t\t\t\t<view v-show=\"step==1\" class=\"tips center\" @click=\"changeLoginMethodByPwd\">账号密码登录</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 登录输入验证码 / 设置密码输入验证码-->\r\n\t\t\t<view v-if=\"step==2 || step==5\" class=\"code-logins\">\r\n\t\t\t\t<view class=\"phone-num\">{{String(phone).substr(0,3)+ ' ' + String(phone).substr(3,4) + ' ' + String(phone).substr(7,4)}}</view>\r\n\t\t\t\t<ValidCode :maxlength=\"maxlength\" @finish=\"regCode\"></ValidCode>\r\n\t\t\t\t<view class=\"tips\" @click=\"getCode\">\r\n\t\t\t\t\t00:{{seconds}}后 重发验证码\r\n\t\t\t\t</view>\r\n\t\t\t\t<button v-show=\"step==2\" @click=\"loginByCode\" :class=\"{'is-disable':!isCodeValid}\">登录</button>\r\n\t\t\t\t<button v-show=\"step==5\" @click=\"checkCode\" :class=\"{'is-disable':!isCodeValid}\">提交</button>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 设置密码 -->\r\n\t\t\t<view v-if=\"step==6\" class=\"password-logins\">\r\n\t\t\t\t<view class=\"password-input input-box flex-ct-bwt\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"/pages/Authorize/images/lock.png\" mode=\"\"></image>\r\n\t\t\t\t\t<input @input=\"regPwd\" :type=\"pwdType\" v-model=\"password\" placeholder-class=\"login-plc\" class=\"uni-input\" placeholder=\"请输入密码\"/>\r\n\t\t\t\t\t<image @click=\"changPwdType\" class=\"oprt\" src=\"/pages/Authorize/images/eye.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button @click=\"updatePwd\" :class=\"{'is-disable':!isPwdValid}\">提交</button>\r\n\t\t\t</view>\r\n\t\t\t<!-- 账号密码登录 -->\r\n\t\t\t<view v-if=\"step==3\" class=\"password-logins\">\r\n\t\t\t\t<view class=\"input-box flex-ct-bwt\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"/pages/Authorize/images/phone.png\" mode=\"\"></image>\r\n\t\t\t\t\t<input @input=\"regPhone\" v-model=\"phone\" placeholder-class=\"login-plc\" class=\"uni-input\" placeholder=\"请输入手机号\" />\r\n\t\t\t\t\t<image @click=\"clearPhone\" class=\"oprt\" src=\"/static/index/clear.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"password-input input-box flex-ct-bwt\">\r\n\t\t\t\t\t<image class=\"icon\" src=\"/pages/Authorize/images/lock.png\" mode=\"\"></image>\r\n\t\t\t\t\t<input @input=\"regPwd\" :type=\"pwdType\" v-model=\"password\" placeholder-class=\"login-plc\" class=\"uni-input\" placeholder=\"请输入密码\"/>\r\n\t\t\t\t\t<image @click=\"changPwdType\" class=\"oprt\" src=\"/pages/Authorize/images/eye.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button @click=\"loginByPwd\" :class=\"{'is-disable':!isPhoneValid || !isPwdValid}\">登录</button>\r\n\t\t\t\t<view class=\"tips flex-ct-bwt\">\r\n\t\t\t\t\t<text @click=\"goStep(1)\">验证码登录</text>\r\n\t\t\t\t\t<text @click=\"goStep(4)\">忘记密码？</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 第三方登录 -->\r\n\t\t<view class=\"third-party-logins\" v-show=\"step!=2\">\r\n\t\t\t<view class=\"tips center\">\r\n\t\t\t\t第三方账号登录\r\n\t\t\t</view>\r\n\t\t\t<image src=\"/pages/Authorize/images/wx.png\" mode=\"\"></image>\r\n\t\t\t<view class=\"protocol center\">\r\n\t\t\t\t登录注册代表您已阅读并同意<text class=\"f-red\">《小红心用户协议》</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<MessageBox></MessageBox>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport ValidCode from '../../../components/validCode.vue'\r\n\timport { getCode, phoneLogin, getTokenData,checkCode, updatePwd, passwordLogin} from '../../../api/login.js'\r\n\timport { mapMutations } from 'vuex';\r\n\t\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tValidCode\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tstep:1, // 1 获取手机哈 2获取验证码 3用户和密码登录\r\n\t\t\t\tisPhoneValid:false,\r\n\t\t\t\tisCodeValid:false,\r\n\t\t\t\tisPwdValid:false,\r\n\t\t\t\tphone:undefined,\r\n\t\t\t\tcfmCode:undefined,\r\n\t\t\t\tmaxlength:6,\r\n\t\t\t\tseconds:59,\r\n\t\t\t\tpassword:undefined,\r\n\t\t\t\tpwdType:'password',\r\n\t\t\t\tonSend:false,\r\n\t\t\t\ttitle:'欢迎登录小红心',\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tstep(val){\r\n\t\t\t\tswitch(val){\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.title = '欢迎登录小红心'\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.title = '输入验证码'\r\n\t\t\t\t\tbreak \r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.title = '欢迎登录小红心'\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\tthis.title = '输入手机号'\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\tthis.title = '输入验证码'\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\tthis.title = '设置密码'\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.regPhone()\r\n\t\t\tthis.regPwd()\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.step = e.step ? e.step : 1\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t...mapMutations(['MessageBox']),\r\n\t\t\tgoStep(v){\r\n\t\t\t\tthis.step = v\r\n\t\t\t\tthis.regPhone()\r\n\t\t\t\tthis.regPwd()\r\n\t\t\t},\r\n\t\t\tchangPwdType(){\r\n\t\t\t\tthis.pwdType = this.pwdType=='password' ? 'text' : 'password' \r\n\t\t\t},\r\n\t\t\tclearPhone(){\r\n\t\t\t\tthis.phone = undefined\r\n\t\t\t\tthis.regPhone()\r\n\t\t\t},\r\n\t\t\tregPhone(e){\r\n\t\t\t\tlet val = e && e.detail.value || this.phone\r\n\t\t\t\tlet reg = /^1[3456789]\\d{9}$/\r\n\t\t\t\tif(reg.test(val)){\r\n\t\t\t\t\t\tthis.isPhoneValid = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isPhoneValid = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tregPwd(e){\r\n\t\t\t\tlet val = e&&e.detail.value || e&&e.target.value || this.password\r\n\t\t\t\tif(val && val!=''){\r\n\t\t\t\t\tthis.isPwdValid = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isPwdValid = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tregCode(finish,v){\r\n\t\t\t\t// console.log(finish,v);\r\n\t\t\t\tthis.isCodeValid = finish ? true : false\r\n\t\t\t\tthis.cfmCode = v\r\n\t\t\t},\r\n\t\t\t// 获取验证码\r\n\t\t\tgetCode(){\r\n\t\t\t\tif(!this.isPhoneValid || this.onSend) return\r\n\t\t\t\t//手机号码登录 type 1\r\n\t\t\t\tif(this.step==1){\r\n\t\t\t\t\tthis.goStep(2)\r\n\t\t\t\t\tthis.type = 1\r\n\t\t\t\t}\r\n\t\t\t\t//设置密码 type 2\r\n\t\t\t\tif(this.step==4){\r\n\t\t\t\t\tthis.goStep(5)\r\n\t\t\t\t\tthis.type = 2\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet timer = setInterval(()=>{\r\n\t\t\t\t\tif(this.seconds==0){\r\n\t\t\t\t\t\tclearInterval(timer)\r\n\t\t\t\t\t\tthis.onSend = false\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.seconds--\r\n\t\t\t\t},1000)\r\n\t\t\t\t//获取电话号码 todo\r\n\t\t\t\tgetCode({\r\n\t\t\t\t\tphone:this.phone,\r\n\t\t\t\t\ttype:this.type\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.message\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 通过code登录\r\n\t\t\tloginByCode(){\r\n\t\t\t\tif(!this.isCodeValid) return\r\n\t\t\t\tphoneLogin({\r\n\t\t\t\t\tphone:this.phone,\r\n\t\t\t\t\tcode:this.cfmCode\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.code==1){\r\n\t\t\t\t\t\tthis.loginSucces(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 通过密码登录\r\n\t\t\tchangeLoginMethodByPwd(){\r\n\t\t\t\tthis.goStep(3);\r\n\t\t\t\tthis.MessageBox({\r\n\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\ttype: 'HTML',\r\n\t\t\t\t\tmsg: '1.第一次登录建议使用验证码登录或微信登录；<br>2.若使用账户密码登录请点击忘记密码，重新设置密码。；',\r\n\t\t\t\t\tbuttons: ['确认'],\r\n\t\t\t\t\treverse: true,\r\n\t\t\t\t\tvisible: true\r\n\t\t\t\t})\t\t\r\n\t\t\t},\r\n\t\t\tloginByPwd(){\r\n\t\t\t\tif(!this.isPhoneValid || !this.isPwdValid) return\r\n\t\t\t\t// console.log('phone',this.phone)\r\n\t\t\t\t// console.log('password',this.password)\r\n\t\t\t\t// 1.验证账号密码 2获取token\r\n\t\t\t\tpasswordLogin({\r\n\t\t\t\t\tphone:this.phone,\r\n\t\t\t\t\tpwd:this.password\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.code==1){\r\n\t\t\t\t\t\tthis.loginSucces(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloginSucces(data){\r\n\t\t\t\tconsole.log('注册登录成功')\r\n\t\t\t\tlet userInfo = data\r\n\t\t\t\tuni.setStorageSync('userInfo',userInfo)\r\n\t\t\t\tuni.setStorageSync('userId',userInfo.id)\r\n\t\t\t\t\r\n\t\t\t\tif(userInfo.forzen==1){\r\n\t\t\t\t\tconsole.log('您的账号被冻结了')\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '账号已冻结，请联系客服:400-970-0989',\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.LoginFail()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('获取用户token')\r\n\t\t\t\tthis.getToken(userInfo)\r\n\t\t\t},\r\n\t\t\t// 设置密码 验证手机号码\r\n\t\t\tcheckCode(){\r\n\t\t\t\tif(!this.isCodeValid) return\r\n\t\t\t\tcheckCode({\r\n\t\t\t\t\tphone:this.phone,\r\n\t\t\t\t\tcode:this.cfmCode\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.code==1){\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.goStep(6)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 设置密码\r\n\t\t\tupdatePwd(){\r\n\t\t\t\tupdatePwd({\r\n\t\t\t\t\tphone:this.phone,\r\n\t\t\t\t\tpwd:this.password\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.code==1){\r\n\t\t\t\t\t\tconsole.log('密码修改成功');\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message,\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// 重新登录\r\n\t\t\t\t\t\tthis.goStep(3)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tLoginFail(){\r\n\t\t\t\tuni.removeStorageSync('token')\r\n\t\t\t\tuni.removeStorageSync('isLogin')\r\n\t\t\t\tthis.goHome()\r\n\t\t\t},\r\n\t\t\tgoHome(){\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t    url: '/pages/Tabbar/index/index'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetToken(userInfo){\r\n\t\t\t\tlet form = {\r\n\t\t\t\t  grant_type: 'password',\r\n\t\t\t\t  username: userInfo.sno + '-shu',\r\n\t\t\t\t  password: '123456',\r\n\t\t\t\t  client_id: 'smart-heart',\r\n\t\t\t\t  client_secret: 'smart-heart-secret'\r\n\t\t\t\t}\r\n\t\t\t\tgetTokenData(form).then(res=>{\r\n\t\t\t\t\tconsole.log('获取token登录成功======',res.access_token)\r\n\t\t\t\t\tuni.setStorageSync('token',res.access_token)\r\n\t\t\t\t\tuni.setStorageSync('isLogin',true)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'登录成功',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.goHome()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.hd{\r\n\t\theight: 70vh;\r\n\t}\r\n\t.welcome{\r\n\t\tpadding: 112rpx 0 0 68rpx;\r\n\t\tfont-size:48rpx;\r\n\t\tfont-weight:500;\r\n\t\tcolor:rgba(47,47,47,1);\r\n\t\tline-height:66rpx;\r\n\t}\r\n\t.input-box{\r\n\t\tmargin: 0 72rpx;\r\n\t\tpadding: 32rpx 0;\r\n\t\tborder-bottom: 2rpx solid #E2E2E2;\r\n\t}\r\n\t.input-box .icon{\r\n\t\twidth: 36rpx;\r\n\t\theight: 48rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\t.input-box .oprt{\r\n\t\twidth: 34rpx;\r\n\t\theight: 36rpx;\r\n\t\tmargin-left: 12rpx;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\t.input-box .uni-input{\r\n\t\tflex: 1;\r\n\t\tfont-size:32rpx;\r\n\t\tfont-weight:400;\r\n\t\tline-height:44rpx;\r\n\t\tborder: 0;\r\n\t\toutline: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\tbutton{\r\n\t\twidth:606rpx;\r\n\t\theight:88rpx;\r\n\t\tline-height: 88rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground:rgba(255,95,98,1);\r\n\t\tborder-radius:4px;\r\n\t\tfont-size:34rpx;\r\n\t\tfont-weight:600;\r\n\t\tcolor:rgba(255,255,255,1);\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\tuni-button:after{\r\n\t\tborder: 0;\r\n\t}\r\n\tbutton.is-disable{\r\n\t\tbackground:rgba(255,205,206,1);\r\n\t}\r\n\t.phone-logins{\r\n\t\tpadding-top: 100rpx;\r\n\t}\r\n\t.phone-input{\r\n\t\tmargin-bottom: 140rpx;\r\n\t}\r\n\t.tips{\r\n\t\tfont-size:30rpx;\r\n\t\tfont-weight:400;\r\n\t\tcolor:rgba(144,144,144,1);\r\n\t\tline-height:42rpx;\r\n\t\tmargin-top: 36rpx;\r\n\t}\r\n\t\r\n\t.center{\r\n\t\ttext-align: center;\r\n\t}\r\n\t.third-party-logins .tips{\r\n\t\tfont-size:26rpx;\r\n\t\tcolor: #BCBCBC;\r\n\t\tline-height:36px;\r\n\t}\r\n\t.third-party-logins image{\r\n\t\tdisplay: block;\r\n\t\twidth: 92rpx;\r\n\t\theight: 92rpx;\r\n\t\tmargin: 44rpx auto 36rpx;\r\n\t}\r\n\t.protocol{\r\n\t\tfont-size:22rpx;\r\n\t\tfont-weight:400;\r\n\t\tcolor:rgba(188,188,188,1);\r\n\t\tline-height:32rpx;\r\n\t\tpadding-bottom: 28rpx;\r\n\t}\r\n\t.protocol .f-red{\r\n\t\tcolor: #FF5F62;\r\n\t}\r\n\t.code-logins{\r\n\t\tpadding: 22rpx 68rpx;\r\n\t}\r\n\t.phone-num{\r\n\t\tpadding-left:4rpx;\r\n\t\tpadding-bottom: 22rpx;\r\n\t\tcolor: #909090;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t.code-logins .tips{\r\n\t\tcolor: #BBBBBB;\r\n\t\tmargin-bottom: 80rpx;\r\n\t\tfont-size:24rpx;\r\n\t\tline-height: 34rpx;\r\n\t}\r\n\t.password-logins{\r\n\t\tpadding-top: 66rpx;\r\n\t}\r\n\t.password-input {\r\n\t\tmargin-bottom: 62rpx;\r\n\t}\r\n\t.password-logins .tips{\r\n\t\tpadding: 0 68rpx;\r\n\t}\r\n\t\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606727725046\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}