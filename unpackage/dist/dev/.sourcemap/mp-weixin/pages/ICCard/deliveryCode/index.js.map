{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/dell/Desktop/uni_heart/pages/ICCard/deliveryCode/index.vue?6d76","webpack:///C:/Users/dell/Desktop/uni_heart/pages/ICCard/deliveryCode/index.vue?786b","webpack:///C:/Users/dell/Desktop/uni_heart/pages/ICCard/deliveryCode/index.vue?090f","webpack:///C:/Users/dell/Desktop/uni_heart/pages/ICCard/deliveryCode/index.vue?e95f","uni-app:///pages/ICCard/deliveryCode/index.vue","webpack:///C:/Users/dell/Desktop/uni_heart/pages/ICCard/deliveryCode/index.vue?45da","webpack:///C:/Users/dell/Desktop/uni_heart/pages/ICCard/deliveryCode/index.vue?0e66"],"names":["createPage","Page"],"mappings":"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","file":"pages/ICCard/deliveryCode/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/ICCard/deliveryCode/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=55a33580&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=55a33580&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55a33580\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/ICCard/deliveryCode/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=55a33580&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.show = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page page-grey\">\r\n\t\t<swiper \r\n\t\t    class=\"swiper-container\" \r\n\t\t    next-margin=\"36rpx\" \r\n\t\t    previous-margin=\"36rpx\" \r\n\t\t    bindchange=\"swiperChange\">\r\n\t\t    <swiper-item \r\n\t\t\t\tv-for=\"(item, index) in codes\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\tclass=\"s-item\">\r\n\t\t\t\t<view class=\"code-ctr\">\r\n\t\t\t\t\t<view class=\"flex\">\r\n\t\t\t\t\t\t<view class=\"pic radius\">\r\n\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t\t<open-data class=\"headpic\" type=\"userAvatarUrl\"></open-data>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t\t<image v-if=\"userInfo.headPic\" class=\"headpic\"  :src=\"userInfo.headPic\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<image v-else class=\"headpic\"  src=\"/static/index/head.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t<view class=\"name\">{{userInfo.nickname}}</view>\r\n\t\t\t\t\t\t\t<view class=\"card\">IC卡号：{{cardNO}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"qr-code-ctn\">\r\n\t\t\t\t\t  <canvas :style=\"{'width':qrcode_w + 'px', 'height':qrcode_w + 'px'}\" :canvas-id=\"'canvas'+ index \"></canvas>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"des\">\r\n\t\t\t\t\t  <text class=\"type\">{{item.type==0?\"厨余垃圾\":\"其他垃圾\"}}</text>\r\n\t\t\t\t\t  <text>投递二维码</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tis\">不同种类垃圾投递对应不同的二维码，请使用正确二维码投递</view>\r\n\t\t\t\t</view>\r\n\t\t    </swiper-item>\r\n\t\t</swiper>\r\n\t\t\r\n\t\t<view class=\"dots flex\">\r\n\t\t    <view \r\n\t\t      v-for=\"(item,index) in codes\"\r\n\t\t      :key=\"index\"\r\n\t\t      :class=\"['dot' ,{ 'active' :index==cur}]\">\r\n\t\t    </view>\r\n\t\t</view>\r\n\t\t  \r\n\t\t  <!-- 分享二维码 -->\r\n\t\t<view class=\"model\" v-show=\"show\" @click=\"show=false\"></view>\r\n\t\t<view :class=\"['share',{'block':show}]\">\r\n\t\t\t<canvas :style=\"{'width':qrcode_s_w + 'px', 'height':qrcode_s_H + 'px'}\" canvas-id=\"shareCanvas\"></canvas>\r\n\t\t\t\r\n\t\t\t<view class=\"flex-ct-bwt share-type\">\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<button open-type=\"share\">\r\n\t\t\t\t\t\t<image src=\"/pages/ICCard/images/weixin.png\"></image>\r\n\t\t\t\t\t\t<view>微信好友</view>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t<button @click=\"AppShare\">\r\n\t\t\t\t\t\t<image src=\"/pages/ICCard/images/weixin.png\"></image>\r\n\t\t\t\t\t\t<view>微信好友</view>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t<button @click=\"saveImage\">\r\n\t\t\t\t\t\t<image src=\"/pages/ICCard/images/weixin.png\"></image>\r\n\t\t\t\t\t\t<view>微信好友</view>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\r\n\t\t\t\t<button @click=\"AppShareTimeLine\">\r\n\t\t\t\t\t<image src=\"/pages/ICCard/images/timeline.png\"></image>\r\n\t\t\t\t\t<view>朋友圈</view>\r\n\t\t\t\t</button>\r\n\t\t\t\r\n\t\t\t\t<button @click=\"saveImage\">\r\n\t\t\t\t\t<image src=\"/pages/ICCard/images/album.png\"></image>\r\n\t\t\t\t\t<view>保存图片</view>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t  \r\n\t\t  <!-- 分享 -->\r\n\t\t  <button class=\"share-btn\" @click=\"preview\">分享</button>\r\n\t\t  <!-- #ifdef APP-PLUS -->\r\n\t\t  <!-- <button class=\"share-btn\" @click=\"AppShare\">分享</button> -->\r\n\t\t  <!-- #endif -->\r\n\t\t  <!-- #ifndef APP-PLUS -->\r\n\t\t  <!-- <button class=\"share-btn\" open-type=\"share\">分享</button> -->\r\n\t\t  <!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { getICRemianDays } from '../../../api/index.js'\r\n\tvar drawQrcode = require('../../../utils/weapp.qrcode.esm.js')\r\n\t\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\t\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tcardNO:undefined,\r\n\t\t\t\tuserInfo:{},\r\n\t\t\t\tcur:0,\r\n\t\t\t\tcodes:[\r\n\t\t\t\t\t{type: 0}, \r\n\t\t\t\t\t{type: 5}\r\n\t\t\t\t],\r\n\t\t\t\trate:2,\r\n\t\t\t\tqrcode_w: 452,\r\n\t\t\t\tqrcode_s_w:690,\r\n\t\t\t\tqrcode_s_H:976,\r\n\t\t\t\tfamilyCodeImg:undefined,\r\n\t\t\t\tshow:false,\r\n\t\t\t\tcodeImg1:undefined,\r\n\t\t\t\tcodeImg0:undefined\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet userInfo = uni.getStorageSync('userInfo')\r\n\t\t\tthis.userInfo = userInfo\r\n\t\t\tthis.validate()\r\n\t\t\t// 创建context实例\r\n\t\t\tthis.context = uni.createCanvasContext('shareCanvas', this)\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 验证是否可是使用二维码\r\n\t\t\tvalidate(){\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tgetICRemianDays(this.userInfo.phone).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif(res.code==1){\r\n\t\t\t\t\t\tif(!res.data){\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t  title:\"提示\",\r\n\t\t\t\t\t\t\t  content:\"您可以加入家庭账户或者绑定IC卡进行投递\",\r\n\t\t\t\t\t\t\t  showCancel: false,\r\n\t\t\t\t\t\t\t  success:(res)=>{\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t  url: '/pages/Setting/icCard/index',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.cardNO = res.data.sno\r\n\t\t\t\t\t\t// 设备像素比\r\n\t\t\t\t\t\tconst windowWidth = uni.getSystemInfoSync().windowWidth;\r\n\t\t\t\t\t\tvar rate = 750 / windowWidth\r\n\t\t\t\t\t\tthis.rate = rate\r\n\t\t\t\t\t\tthis.qrcode_w = 452 / rate //轮播图二维码宽高\r\n\t\t\t\t\t\tthis.qrcode_s_w = 690 / rate //分享图片宽\r\n\t\t\t\t\t\tthis.qrcode_s_H = 976 / rate //分享图片高\r\n\t\t\t\t\t\tthis.init()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 绘制厨余与其他二维码\r\n\t\t\tinit(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\t// 家庭二维码\r\n\t\t\t\t // 厨余：“XHX”+用户id+“ID”+000+0\r\n\t\t\t\t// 其他 ：“XHX”+用户id+“ID”+000+5\r\n\t\t\t\t// 设备只支持12位，如果不满12位在最后一位前补0\r\n\t\t\t\tlet userId = uni.getStorageSync('userId')\r\n\t\t\t\r\n\t\t\t\tlet canvas0 = String('XHX' + userId + 'ID').padEnd(11,0) + '0'\r\n\t\t\t\tlet canvas1 = String('XHX' + userId + 'ID').padEnd(11,0) + '5'\r\n\t\t\t\tconsole.log(this.qrcode_w,canvas0,canvas1,drawQrcode);\r\n\t\t\t\tdrawQrcode({\r\n\t\t\t\t  width: this.qrcode_w,\r\n\t\t\t\t  height: this.qrcode_w,\r\n\t\t\t\t  canvasId: 'canvas0',\r\n\t\t\t\t  text: canvas0,\r\n\t\t\t\t  callback:(e)=>{\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t  canvasId: 'canvas0',\r\n\t\t\t\t\t  fail: function (res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  success: function (res) {\r\n\t\t\t\t\t\t  console.log(res);\r\n\t\t\t\t\t\t  that.codeImg0 = res.tempFilePath\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t})\r\n\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t\tdrawQrcode({\r\n\t\t\t\t  width: this.qrcode_w,\r\n\t\t\t\t  height: this.qrcode_w,\r\n\t\t\t\t  canvasId: 'canvas1',\r\n\t\t\t\t  text: canvas1,\r\n\t\t\t\t  callback:()=>{\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t  canvasId: 'canvas1',\r\n\t\t\t\t\t  fail: function (res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  success: function (res) {\r\n\t\t\t\t\t\t console.log(res);\r\n\t\t\t\t\t\tthat.codeImg1 = res.tempFilePath\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t})\r\n\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 查看分享二维码\r\n\t\t\tpreview(){\r\n\t\t\t\tif(!this.codeImg0 || !this.codeImg1){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"二维码还在绘制中，请等待...\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.show  = true\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet rate = this.rate\r\n\t\t\t\tlet bg = '/pages/ICCard/images/share-bg.png'\r\n\t\t\t\tlet icon = '/pages/ICCard/images/share-icon.png'\r\n\t\t\t\tthis.drawImg(bg, 0, 0, 690, 976)\r\n\t\t\t\tthis.drawImg(this.codeImg0, 246, 194, 200, 200)\r\n\t\t\t\tthis.drawImg(icon,322, 270, 48, 48)\r\n\t\t\t\tthis.drawImg(this.codeImg1, 246, 586, 200, 200)\r\n\t\t\t\tthis.drawImg(icon,322, 662, 48, 48)\r\n\t\t\t\r\n\t\t\t\t//用户 头像 昵称 cardNO\r\n\t\t\t\tlet {nickname, headPic} = this.userInfo\r\n\t\t\t\tlet cardNO = this.cardNO\r\n\t\t\t\tif(!headPic){\r\n\t\t\t\t\theadPic = '/static/index/head.png'\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tlet usernameObj = {x: 154,y: 65,size: 30,color: '#3B3B3B',align: 'left',text: nickname,bold: true,baseline:\"middle\"};\r\n\t\t\t\tthis.drawText(usernameObj);\r\n\t\t\t\r\n\t\t\t\tlet cardObj = { x: 154, y: 112, size: 20, color: '#909090', align: 'left', text: 'IC卡号：'+ cardNO, baseline: 'middle'}\r\n\t\t\t\tthis.drawText(cardObj);\r\n\t\t\t\r\n\t\t\t\tlet circle = { x: 84 / rate, y: 84 / rate, r: 44 / rate }\r\n\t\t\t\tthis.context.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI);\r\n\t\t\t\tthis.context.clip()\r\n\t\t\t\tthis.drawImg(headPic,40, 40, 88, 88)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.context.draw(false, () => {\r\n\t\t\t\t\tthis.getTempFilePath()\r\n\t\t\t\t})\r\n\t\t\t  },\r\n\t\t\tgetTempFilePath(){\r\n\t\t\t\tlet that = this\r\n\t\t\t    uni.canvasToTempFilePath({\r\n\t\t\t       canvasId: 'shareCanvas',\r\n\t\t\t       fail: function (res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t       },\r\n\t\t\t       success: (res)=>{\r\n\t\t\t           that.familyCodeImg = res.tempFilePath\r\n\t\t\t       }\r\n\t\t\t    })\r\n\t\t\t},\r\n\t\t\t// 画图函数\r\n\t\t\tdrawImg(img,x,y,w,h){\r\n\t\t\t\tvar rate = this.rate\r\n\t\t\t\tthis.context.drawImage(img, x / rate, y / rate, w / rate, h / rate);\r\n\t\t\t},\r\n\t\t\t// 画文字函数\r\n\t\t\tdrawText(obj) {\r\n\t\t\t\tvar rate = this.rate\r\n\t\t\t\tthis.context.save();\r\n\t\t\t\tthis.context.setFillStyle(obj.color);\r\n\t\t\t\tthis.context.setFontSize(obj.size / rate);\r\n\t\t\t\tthis.context.setTextAlign(obj.align);\r\n\t\t\t\tthis.context.setTextBaseline(obj.baseline);\r\n\t\t\t\tthis.context.fillText(obj.text, obj.x / rate, obj.y / rate);\r\n\t\t\t},\r\n\t\t\t// 分享到微信朋友圈\r\n\t\t\tAppShare(){\r\n\t\t\t\tuni.share({\r\n\t\t\t\t\tprovider:\"weixin\",\r\n\t\t\t\t\ttitle:垃圾箱投递码,\r\n\t\t\t\t\tscene:\"WXSceneSession\",//provider 为 weixin 时必选 : WXSceneSession\t分享到聊天界面 WXSenceTimeline\t分享到朋友圈 WXSceneFavorite\t分享到微信收藏\r\n\t\t\t\t\timageUrl:this.familyCodeImg,\r\n\t\t\t\t\thref:'/pages/iCCard/deliveryCode/index',\r\n\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\tconsole.log('分享成功')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tAppShareTimeLine(){\r\n\t\t\t\tuni.share({\r\n\t\t\t\t\tprovider:\"weixin\",\r\n\t\t\t\t\ttitle:'垃圾箱投递码',\r\n\t\t\t\t\tscene:\"WXSenceTimeline\",//provider 为 weixin 时必选 : WXSceneSession\t分享到聊天界面 WXSenceTimeline\t分享到朋友圈 WXSceneFavorite\t分享到微信收藏\r\n\t\t\t\t\timageUrl:this.familyCodeImg,\r\n\t\t\t\t\thref:'/pages/iCCard/deliveryCode/index',\r\n\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\tconsole.log('分享成功')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 保存图片\r\n\t\t\tsaveImage(){\r\n\t\t\t    let that = this\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t  canvasId: 'shareCanvas',\r\n\t\t\t\t  fail: function (res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t  },\r\n\t\t\t\t  success: (res)=>{\r\n\t\t\t\t      this.familyCodeImg = res.tempFilePath\r\n\t\t\t\t\t  uni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t    filePath: this.familyCodeImg,\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t      wx.showToast({\r\n\t\t\t\t\t        title: '图片已保存至相册',\r\n\t\t\t\t\t        icon: 'success',\r\n\t\t\t\t\t        duration: 2000\r\n\t\t\t\t\t      })\r\n\t\t\t\t\t      that.setData({\r\n\t\t\t\t\t        canvasHidden:true,\r\n\t\t\t\t\t      })\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    fail: (err) => {\r\n\t\t\t\t\t      console.log(err)\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t  })\r\n\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t  },\r\n\t\t},\r\n\t\t// 微信分享\r\n\t\tonShareAppMessage(){\r\n\t\t\treturn {\r\n\t\t\t      title:\"垃圾箱投递码\",\r\n\t\t\t      imageUrl:this.familyCodeImg,\r\n\t\t\t    }\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.page{\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.swiper-container {\r\n\t  padding-top: 80rpx;\r\n\t  width: 100%;\r\n\t  height: 876rpx;\r\n\t}\r\n\t.s-item {\r\n\t  padding: 0 12rpx;\r\n\t  width: 100%;\r\n\t  box-sizing: border-box;\r\n\t}\r\n\t.code-ctr {\r\n\t  width: 100%;\r\n\t  height: 100%;\r\n\t  border-radius: 10rpx;\r\n\t  padding: 50rpx 40rpx;\r\n\t  box-shadow: 0rpx 8rpx 22rpx 0rpx rgba(218, 218, 218, 0.1);\r\n\t  box-sizing: border-box;\r\n\t  background-color: #fff;\r\n\t}\r\n\t\r\n\t.pic{\r\n\t\twidth: 116rpx;\r\n\t\theight: 116rpx;\r\n\t}\r\n\t.radius{\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.headpic{\r\n\t\twidth: 116rpx;\r\n\t\theight: 116rpx;\r\n\t}\r\n\t\t\r\n\t.info{\r\n\t\tpadding-left: 26rpx;\r\n\t}\r\n\t\r\n\t.name {\r\n\t  font-size: 32rpx;\r\n\t  font-weight: 600;\r\n\t  color: rgba(59, 59, 59, 1);\r\n\t  line-height: 44rpx;\r\n\t  padding-top: 10rpx;\r\n\t}\r\n\t\r\n\t.card {\r\n\t  padding-top: 26rpx;\r\n\t  font-size: 20rpx;\r\n\t  color: rgba(144, 144, 144, 1);\r\n\t  line-height: 28rpx;\r\n\t}\r\n\t\r\n\t.qr-code-ctn {\r\n\t  margin: 54rpx auto;\r\n\t  width: 452rpx;\r\n\t  height: 452rpx;\r\n\t  background-color: #eee;\r\n\t}\r\n\t\r\n\t.des {\r\n\t  font-size: 28rpx;\r\n\t  font-weight: 600;\r\n\t  color: rgba(59, 59, 59, 1);\r\n\t  line-height: 40rpx;\r\n\t  margin-top: 4rpx;\r\n\t  text-align: center;\r\n\t}\r\n\t\r\n\t.des .type {\r\n\t  color: rgba(255, 95, 98, 1);\r\n\t\r\n\t}\r\n\t\r\n\t.tis {\r\n\t  margin-top: 26rpx;\r\n\t  font-size: 20rpx;\r\n\t  color: rgba(158, 158, 158, 1);\r\n\t  line-height: 28rpx;\r\n\t  text-align: center;\r\n\t}\r\n\t\r\n\t.dots {\r\n\t  margin-top: 62rpx;\r\n\t  position: absolute;\r\n\t  left: 50%;\r\n\t  transform: translateX(-50%);\r\n\t}\r\n\t\r\n\t.dot {\r\n\t  width: 8rpx;\r\n\t  height: 8rpx;\r\n\t  background: rgba(205, 205, 205, 1);\r\n\t  border-radius: 50%;\r\n\t  margin-right: 10rpx;\r\n\t}\r\n\t\r\n\t.dot:last-of-type {\r\n\t  margin-right: 0;\r\n\t}\r\n\t\r\n\t.dot.active {\r\n\t  width: 24rpx;\r\n\t  height: 8rpx;\r\n\t  background: rgba(255, 95, 98, 1);\r\n\t  border-radius: 4rpx;\r\n\t}\r\n\t\r\n\t.share-btn {\r\n\t  width: 606rpx;\r\n\t  height: 88rpx;\r\n\t  background: rgba(255, 95, 98, 1);\r\n\t  border-radius: 4rpx;\r\n\t  line-height: 88rpx;\r\n\t  text-align: center;\r\n\t  font-size: 34rpx;\r\n\t  font-weight: 500;\r\n\t  color: rgba(255, 255, 255, 1);\r\n\t  margin: 140rpx auto 0;\r\n\t}\r\n\t\r\n\t.model {\r\n\t  position: fixed;\r\n\t  left: 0;\r\n\t  top: 0;\r\n\t  right: 0;\r\n\t  bottom: 0;\r\n\t  background-color: rgba(0, 0, 0, .6);\r\n\t  z-index: 9;\r\n\t}\r\n\t\r\n\t.share {\r\n\t  position: absolute;\r\n\t  left: 30rpx;\r\n\t  top: 9999rpx;\r\n\t  transition: all .5s;\r\n\t  z-index: 10;\r\n\t}\r\n\t.block{\r\n\t\ttop: 30rpx;\r\n\t}\r\n\t\r\n\t.share-type {\r\n\t  padding: 74rpx 112rpx;\r\n\t}\r\n\t\r\n\t.share-type image {\r\n\t  width: 60rpx;\r\n\t  height: 52rpx;\r\n\t  margin:0 auto 12rpx;\r\n\t  display: block;\r\n\t}\r\n\t.share-type button{\r\n\t  background-color: transparent;\r\n\t  padding: 0;\r\n\t  margin: 0;\r\n\t  font-size: 28rpx;\r\n\t  color: rgba(255, 255, 255, 1);\r\n\t  line-height: 40rpx;\r\n\t  flex: 1;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=55a33580&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=55a33580&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606793542652\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}