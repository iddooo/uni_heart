(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/index/index"],{28:
/*!****************************************************************************!*\
  !*** E:/HBuilderProjects/uni-App/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \****************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";(function(n){e(/*! uni-pages */4),e(/*! @dcloudio/uni-stat */5);t(e(/*! vue */2));function t(n){return n&&n.__esModule?n:{default:n}}n(t(e(/*! ./pages/index/index.vue */29)).default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},29:
/*!*********************************************************!*\
  !*** E:/HBuilderProjects/uni-App/pages/index/index.vue ***!
  \*********************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var i=e(/*! ./index.vue?vue&type=template&id=6f79d1b9&scoped=true& */30),a=e(/*! ./index.vue?vue&type=script&lang=js& */32);for(var o in a)"default"!==o&&function(n){e.d(t,n,function(){return a[n]})}(o);e(/*! ./index.vue?vue&type=style&index=0&id=6f79d1b9&scoped=true&lang=css& */39);var r=e(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),c=Object(r.default)(a.default,i.render,i.staticRenderFns,!1,null,"6f79d1b9",null,!1,i.components,void 0);c.options.__file="E:/HBuilderProjects/uni-App/pages/index/index.vue",t.default=c.exports},30:
/*!****************************************************************************************************!*\
  !*** E:/HBuilderProjects/uni-App/pages/index/index.vue?vue&type=template&id=6f79d1b9&scoped=true& ***!
  \****************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(n,t,e){"use strict";e.r(t);var i=e(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6f79d1b9&scoped=true& */31);e.d(t,"render",function(){return i.render}),e.d(t,"staticRenderFns",function(){return i.staticRenderFns}),e.d(t,"recyclableRender",function(){return i.recyclableRender}),e.d(t,"components",function(){return i.components})},31:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/HBuilderProjects/uni-App/pages/index/index.vue?vue&type=template&id=6f79d1b9&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(n,t,e){"use strict";e.r(t),e.d(t,"render",function(){return i}),e.d(t,"staticRenderFns",function(){return o}),e.d(t,"recyclableRender",function(){return a}),e.d(t,"components",function(){});var i=function(){var n=this.$createElement;this._self._c},a=!1,o=[];i._withStripped=!0},32:
/*!**********************************************************************************!*\
  !*** E:/HBuilderProjects/uni-App/pages/index/index.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var i=e(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */33),a=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,function(){return i[n]})}(o);t.default=a.a},33:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/HBuilderProjects/uni-App/pages/index/index.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=(i=e(/*! ./node_modules/@babel/runtime/regenerator */34))&&i.__esModule?i:{default:i},o=e(/*! ../../common/index.js */27);function r(n,t,e,i,a,o,r){try{var c=n[o](r),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(i,a)}function c(n){return function(){var t=this,e=arguments;return new Promise(function(i,a){var o=n.apply(t,e);function c(n){r(o,i,a,c,s,"next",n)}function s(n){r(o,i,a,c,s,"throw",n)}c(void 0)})}}var s=e(/*! ../../api/index.js */37),u=s.getBanners,d=s.getNearest,l=s.getClassify,g=s.getNearestKc,f=s.myMoney,h=(s.getAllRank,s.deliveringToken,s.userDelivering),p={data:function(){return{indicatorDots:!1,autoplay:!0,banners:[{}],currentIndex:0,entries:[{url:"",icon:"/static/index/scan.png",name:"扫码开箱",scan:!0,need:!0},{url:"/pages/classification/index",icon:"/static/index/classify.png",name:"回收分类"},{url:"/pages/mine/familyAccount/index",icon:"/static/index/family.png",name:"家庭账户",need:!0,needPhone:!0},{url:"/pages/About/guide/index",icon:"/static/index/guide.png",name:"新手指南",need:!1}],stationType:[{name:"可回收/有害",id:1},{name:"厨余/其他",id:2}],type:1,isLocation:!1,location:void 0,min_station:{},min_dis:0,resources:[],swiperData:[],cur:0,min_kw_station:{},min_kw_dis:0,kitchen:0,other:0,isLogin:!1,money:0,grandTotal:[{name:"去提现",count:"10.70",url:"/pages/Money/withdraw/index"},{name:"累计收益",count:"155",url:void 0},{name:"我的积分",count:"2134",url:"/pages/Score/score/index"}],rank:[{id:3,name:"公益值排名",ranking:"15",url:"/pages/Score/ranking/index",imgUrl:"/static/index/rank-1.png"},{id:2,name:"投递次数排名",ranking:"12",url:"/pages/Score/ranking/index",imgUrl:"/static/index/rank-2.png"},{id:1,name:"环保金排名",ranking:"9",url:"/pages/Score/ranking/index",imgUrl:"/static/index/rank-3.png"}],item6:!1}},onLoad:function(t){var e=t.userId;n.setStorageSync("invitedId",e)},onShow:function(){this.initPageData(),this.initLocation();var t=n.getStorageSync("isLogin");this.isLogin=t,this.getMyScore()},methods:{swiperChange:function(n){this.currentIndex=n.detail.current-1},initPageData:function(){var n=this;u(1).then(function(t){n.banners=t.data})},setPremission:function(){n.openSetting({success:function(n){console.log(n.authSetting)}})},initLocation:function(){var t=this;n.getLocation({type:"gcj02",success:function(e){console.log("当前位置的经度："+e.longitude),console.log("当前位置的纬度："+e.latitude),n.setStorageSync("location",e),t.isLocation=!0,t.getNearestEqp(),t.getNearestKcEqp()},fail:function(e){console.log("获取定位失败",e),n.showModal({title:"温馨提示",content:"您已拒绝定位,请开启",confirmText:"去设置",success:function(n){n.confirm&&t.setPremission()}})},complete:function(){console.log("获取定位完成")}})},testH5:function(){n.setStorageSync("location",{latitude:30.53811264038086,longitude:104.06261444091797}),this.isLocation=!0,this.getNearestEqp(),this.getNearestKcEqp()},changeType:function(n){console.log("却换设备"),this.type=n,1==n?console.log("展示可回收设备"):console.log("展示厨余设备")},getNearestEqp:function(){var t=c(a.default.mark(function t(){var e,i,o,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.getStorageSync("location"),t.next=3,d(e);case 3:return i=t.sent,this.min_station=i.data.min_station,this.min_dis=i.data.min_dis,t.next=8,l(this.min_station.id);case 8:o=t.sent,r=o.data.concat(o.data),this.item6=r.length>4,this.swiperData=this.truck(r,6),n.setStorageSync("station",i.data);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),truck:function(n,t){var e=[];return n.forEach(function(n,i){var a=Math.floor(i/t);e[a]instanceof Array||(e[a]=new Array),e[a].push(n)}),e},cateSwiperChange:function(n){console.log(n),this.cur=n.detail.current},getNearestKcEqp:function(){var t=c(a.default.mark(function t(){var e,i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.getStorageSync("location"),t.next=3,g(e);case 3:i=t.sent,this.min_kw_station=i.data.min_station,this.min_kw_dis=i.data.min_dis,n.setStorageSync("kw_station",i.data),this.kitchen=(Number(this.min_kw_station.kitchenCapacity)/30).toFixed(0),this.other=(Number(this.min_kw_station.otherCapacity)/30).toFixed(0),this.min_kw_station.kitchenfull?this.min_kw_station.kitchenCapacity="暂满":this.min_kw_station.kitchenCapacity+="%",this.min_kw_station.otherfull?this.min_kw_station.otherCapacity="暂满":this.min_kw_station.otherCapacity+="%";case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),scanToDelivery:function(){n.getStorageSync("isLogin")?n.scanCode({success:function(t){var e=t.result.split("/"),i={openid:n.getStorageSync("userInfo").openid,token:"c1c7e63efc352d9af998cd331f8d8edc",deviceSn:e[e.length-2],time:e[e.length-1],appid:"wx79d70ef10138edc1"};h(i).then(function(t){n.navigateTo({url:"/pages/Money/delivering/index"}),t.indexOf("ok")>0?console.log("扫码成功开始投递"):console.log(t)})}}):(0,o.goLoginPageTimeOut)()},navigatorToUrl:function(t){var e=t.url;e&&n.navigateTo({url:e})},goRanking:function(t){n.navigateTo({url:t.url+"?id="+t.id})},getMyScore:function(){var t=this,e=n.getStorageSync("userId");f(e).then(function(e){1==e.code&&(t.grandTotal[0].count=e.data.currentProfit,t.grandTotal[1].count=e.data.countProfit,t.grandTotal[2].count=e.data.currScore,t.money=e.data.currentProfit,n.setStorageSync("money",t.money))})},goAuthority:function(){n.navigateTo({url:"../Authorize/wx/index"})},goMap:function(){n.navigateTo({url:"../Map/map/index?type="+this.type})},linkTo:function(t){var e=t.currentTarget.dataset.url,i=t.currentTarget.dataset.need,a=t.currentTarget.dataset.needPhone,r=t.currentTarget.dataset.scan,c=n.getStorageSync("token"),s=n.getStorageSync("userInfo");!i||c?!a||s.phoneType?r?this.scanToDelivery():(n.switchTab({url:e}),n.navigateTo({url:e})):n.navigateTo({url:"/pages/authorize/index?phoneType=false&redirectUrl=/pages/Third/familyAccount/index"}):(0,o.goLoginPageTimeOut)()}}};t.default=p}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},39:
/*!******************************************************************************************************************!*\
  !*** E:/HBuilderProjects/uni-App/pages/index/index.vue?vue&type=style&index=0&id=6f79d1b9&scoped=true&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var i=e(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6f79d1b9&scoped=true&lang=css& */40),a=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,function(){return i[n]})}(o);t.default=a.a},40:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/HBuilderProjects/uni-App/pages/index/index.vue?vue&type=style&index=0&id=6f79d1b9&scoped=true&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){}},[[28,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map